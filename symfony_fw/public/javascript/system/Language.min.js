var language=new Language;function Language(){function a(e){controlPanelPage.setProfileFocus(!1);var a=!0===$(e.target).parent().hasClass("mdc-chip")?$(e.target).parent():$(e.target);$("#language_page_container").children().removeClass("mdc-chip--selected"),a.addClass("mdc-chip--selected");var n=a.find("img").prop("alt").split(".");$("#form_language_page").find("input[name='form_language[codePage]']").val(n[0]),$("#form_language_page").submit()}this.init=function(){$("#language_text_container").find(".mdc-list-item").on("click","",function(e){ajax.send(!0,window.url.languageText,"post",{event:"languageText",languageTextCode:$(e.target).find("img").prop("class"),token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,""),!1===$.isEmptyObject(e.response)&&void 0!==e.response.values&&(window.location.href=e.response.values.url)},null,null)})},this.page=function(){var e;e=void 0!==window.session?window.session.languageTextCode:"",$("#language_page_container").find(".flag_"+e).parent().addClass("mdc-chip--selected"),$("#language_page_container").find("input[name='form_language[codePage]']").val(e),$("#language_page_container .mdc-chip").on("click","",function(e){!0===controlPanelPage.getProfileFocus()?popupEasy.create(window.text.index_1,window.textLanguagePage.label_1,function(){a(e)}):a(e)}),$("#form_language_page").on("submit","",function(a){a.preventDefault(),ajax.send(!0,$(this).prop("action"),$(this).prop("method"),$(this).serialize(),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,"#"+a.currentTarget.id),!1===$.isEmptyObject(e.response)&&void 0!==e.response.values&&(wysiwyg.historyClear(),$("#form_cp_page_profile").find("input[name='form_page[language]']").val(e.response.values.codePage),$("#form_cp_page_profile").find("input[name='form_page[title]']").val(e.response.values.pageTitle),$(".wysiwyg").find(".editor").contents().find("body").html(e.response.values.pageArgument),$("#form_cp_page_profile").find("input[name='form_page[menuName]']").val(e.response.values.pageMenuName))},null,null)})}}