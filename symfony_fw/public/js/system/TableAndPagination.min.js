function TableAndPagination(){var e,l,a,d,s,t,r,c,i=this;function o(){var n=$.trim($(l).find(".tableAndPagination .text").text());if(void 0!==n||""!==n){var t=n.split("/"),i=parseInt($.trim(t[0])),e=parseInt($.trim(t[1]));e<i&&0===$(l).find("table tbody tr").length&&$(l).find(".tableAndPagination .previous").click(),d<0&&(d=0),s=e}$(".tableAndPagination .previous .mdc-button").prop("disabled",!0),$(".tableAndPagination .next .mdc-button").prop("disabled",!0);var a=$(l).find(".tableAndPagination .previous .mdc-button"),o=$(l).find(".tableAndPagination .next .mdc-button");0<a.length&&0<o.length&&(1<s&&0<d&&a.removeAttr("disabled"),1<s&&d<s-1&&o.removeAttr("disabled"),$.each($(l).find("table thead tr th"),function(n,t){$(t).find("i").hide()}),"show"===c&&$(l).find(".tableAndPagination .button_container").show())}function u(){var n={event:"tableAndPagination",searchWritten:$(l).find(".tableAndPagination .mdc-text-field__input").val(),paginationCurrent:d,token:window.session.token};ajax.send(!1,e,"post",n,"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",function(){$(l).find(".update_loading").css("display","inline-block"),$(l).find("table tbody").css("visibility","hidden")},function(n){ajax.reply(n,""),void 0!==n.response.values&&i.populate(n),helper.linkPreventDefault(),!0===a&&helper.selectOnlyOneElement(l+" table tbody"),f(),t=!1,$(l).find(".update_loading").css("display","none")},null,null)}function f(){$(function(){$(l).find("table tbody tr td").resizable({handles:"e"})})}i.setButtonsStatus=function(n){c=n},i.init=function(){s=d=0,r=t=!1,c=a=l=e=""},i.create=function(n,t,i){e=n,l=t,a=i,o(),helper.linkPreventDefault(),!0===a&&helper.selectOnlyOneElement(l+" table tbody"),f()},i.search=function(){var n=l+" .tableAndPagination .mdc-text-field .material-icons";$(l+" .tableAndPagination .mdc-text-field__input").on("keyup","",function(n){!0!==t&&13===n.which&&(d=0,u(),t=!0)}),$(n).on("click","",function(){!0!==t&&(d=0,u(),t=!0)})},i.pagination=function(){var n=l+" .tableAndPagination .next";$(l+" .tableAndPagination .previous").on("click","",function(){!0!==t&&1<s&&0<d&&(d--,u(),t=!0)}),$(n).on("click","",function(){!0!==t&&1<s&&d<s-1&&(d++,u(),t=!0)})},i.sort=function(){$(l).on("click","table thead tr th",function(n){var t=$(l).find("table tbody tr"),o=!1===$(n.target).is("i")?$(n.target).index():$(n.target).parent().index();$(this).parent().find("i").hide(),r=!1===r?($(this).find("i").eq(0).show(),$(this).find("i").eq(1).hide(),!0):($(this).find("i").eq(0).hide(),$(this).find("i").eq(1).show(),!1),t.sort(function(n,t){var i=0,e=$.trim($(n).children("td").eq(o).text().toLowerCase()),a=$.trim($(t).children("td").eq(o).text().toLowerCase());return""!==e&&""!==a&&(i=!0===r?!1===$.isNumeric(e)?e.localeCompare(a):e-a:!1===$.isNumeric(e)?a.localeCompare(e):a-e),i}),1<t.length&&$.each(t,function(n,t){$(l).find("table tbody").append(t)})})},i.populate=function(n){$(l).find(".tableAndPagination .mdc-text-field__input").val(""),$(l).find("table tbody").css("visibility","visible"),void 0!==n.response.values&&($(l).find(".tableAndPagination .mdc-text-field__input").val(n.response.values.search.value),$(l).find(".tableAndPagination .text").html(n.response.values.pagination.text),void 0!==n.response.values.count&&($(l).find(".tableAndPagination .count").show(),$(l).find(".tableAndPagination .count span").html(n.response.values.count)),0<$(l).find("table tbody").length?$(l).find("table tbody").html(n.response.values.listHtml):$(l).find(".list_result").html(n.response.values.listHtml),o(),f())}}