function TableAndPagination(){var e,l,a,d,s,n,r,c,i=this;function o(){var t=$.trim($(l).find(".tableAndPagination .text").text());if(void 0!==t||""!==t){var n=t.split("/"),i=parseInt($.trim(n[0])),e=parseInt($.trim(n[1]));e<i&&0===$(l).find("table tbody tr").length&&$(l).find(".tableAndPagination .previous").click(),d<0&&(d=0),s=e}$(".tableAndPagination .previous .mdc-button").prop("disabled",!0),$(".tableAndPagination .next .mdc-button").prop("disabled",!0);var a=$(l).find(".tableAndPagination .previous .mdc-button"),o=$(l).find(".tableAndPagination .next .mdc-button");0<a.length&&0<o.length&&(1<s&&0<d&&a.removeAttr("disabled"),1<s&&d<s-1&&o.removeAttr("disabled"),$.each($(l).find("table thead tr th"),function(t,n){$(n).find("i").hide()}),"show"===c&&$(l).find(".tableAndPagination .button_container").show())}function u(){var t={event:"tableAndPagination",searchWritten:$(l).find(".tableAndPagination .mdc-text-field__input").val(),paginationCurrent:d,token:window.session.token};ajax.send(!1,e,"post",t,"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",function(){$(l).find(".update_loading").css("display","inline-block"),$(l).find("table tbody").css("visibility","hidden")},function(t){ajax.reply(t,""),void 0!==t.response.values&&i.populate(t),utility.linkPreventDefault(),!0===a&&utility.selectOnlyOneElement(l+" table tbody"),f(),n=!1,$(l).find(".update_loading").css("display","none")},null,null)}function f(){$(function(){$(l).find("table tbody tr td").resizable({handles:"e"})})}i.setButtonsStatus=function(t){c=t},i.init=function(){s=d=0,r=n=!1,c=a=l=e=""},i.create=function(t,n,i){e=t,l=n,a=i,o(),utility.linkPreventDefault(),!0===a&&utility.selectOnlyOneElement(l+" table tbody"),f()},i.search=function(){var t=l+" .tableAndPagination .mdc-text-field .material-icons";$(l+" .tableAndPagination .mdc-text-field__input").on("keyup","",function(t){!0!==n&&13===t.which&&(d=0,u(),n=!0)}),$(t).on("click","",function(){!0!==n&&(d=0,u(),n=!0)})},i.pagination=function(){var t=l+" .tableAndPagination .next";$(l+" .tableAndPagination .previous").on("click","",function(){!0!==n&&1<s&&0<d&&(d--,u(),n=!0)}),$(t).on("click","",function(){!0!==n&&1<s&&d<s-1&&(d++,u(),n=!0)})},i.sort=function(){$(l).on("click","table thead tr th",function(t){var n=$(l).find("table tbody tr"),o=!1===$(t.target).is("i")?$(t.target).index():$(t.target).parent().index();$(this).parent().find("i").hide(),r=!1===r?($(this).find("i").eq(0).show(),$(this).find("i").eq(1).hide(),!0):($(this).find("i").eq(0).hide(),$(this).find("i").eq(1).show(),!1),n.sort(function(t,n){var i=0,e=$.trim($(t).children("td").eq(o).text().toLowerCase()),a=$.trim($(n).children("td").eq(o).text().toLowerCase());return""!==e&&""!==a&&(i=!0===r?!1===$.isNumeric(e)?e.localeCompare(a):e-a:!1===$.isNumeric(e)?a.localeCompare(e):a-e),i}),1<n.length&&$.each(n,function(t,n){$(l).find("table tbody").append(n)})})},i.populate=function(t){$(l).find(".tableAndPagination .mdc-text-field__input").val(""),$(l).find("table tbody").css("visibility","visible"),void 0!==t.response.values&&($(l).find(".tableAndPagination .mdc-text-field__input").val(t.response.values.search.value),$(l).find(".tableAndPagination .text").html(t.response.values.pagination.text),void 0!==t.response.values.count&&($(l).find(".tableAndPagination .count").show(),$(l).find(".tableAndPagination .count span").html(t.response.values.count)),0<$(l).find("table tbody").length?$(l).find("table tbody").html(t.response.values.listHtml):$(l).find(".list_result").html(t.response.values.listHtml),o(),f())}}