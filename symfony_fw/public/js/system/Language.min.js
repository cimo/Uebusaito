"use strict";class Language{constructor(){}action=()=>{$(document).on("click","#language_text_container .mdc-list-item",e=>{ajax.send(!0,window.url.languageText,"post",{event:"languageText",languageTextCode:$(e.currentTarget).find("img").prop("class"),token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,e=>{ajax.reply(e,""),!1===$.isEmptyObject(e.response)&&void 0!==e.response.values&&(window.location.href=e.response.values.url)},null,null)}),this._selectOnPage(),$("#form_language_page").on("submit","",e=>{e.preventDefault(),ajax.send(!0,$(e.target).prop("action"),$(e.target).prop("method"),$(e.target).serialize(),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,a=>{ajax.reply(a,`#${e.target.id}`),!1===$.isEmptyObject(a.response)&&void 0!==a.response.values&&(wysiwyg.historyClear(),$("#form_cp_page_profile").find("input[name='form_page[language]']").val(a.response.values.code),$("#form_cp_page_profile").find("input[name='form_page[title]']").val(a.response.values.pageTitle),$(".wysiwyg").find(".editor").contents().find("body").html(a.response.values.pageArgument),$("#form_cp_page_profile").find("input[name='form_page[menuName]']").val(a.response.values.pageMenuName))},null,null)})};_selectOnPage=()=>{$("#language_page_container").find(".flag_"+window.session.languageTextCode).parent().addClass("mdc-chip--selected"),$("#language_page_container").find("input[name='form_language[code]']").val(window.session.languageTextCode),$("#language_page_container").find(".mdc-chip").on("click","",e=>{!0===controlPanelPage.getProfileFocus?popupEasy.show(window.text.index_1,window.textLanguagePage.label_1,()=>{this._formPageFlagSubmit(e)}):this._formPageFlagSubmit(e)})};_formPageFlagSubmit=e=>{controlPanelPage.setProfileFocus=!1;let a=!0===$(e.target).parent().hasClass("mdc-chip")?$(e.target).parent():$(e.target);$("#language_page_container").children().removeClass("mdc-chip--selected"),a.addClass("mdc-chip--selected");let n=a.find("img").prop("alt").split(".");$("#form_language_page").find("input[name='form_language[code]']").val(n[0]),$("#form_language_page").submit()}}