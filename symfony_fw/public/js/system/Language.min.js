"use strict";const language=new Language;function Language(){function e(e){controlPanelPage.setProfileFocus(!1);let n=!0===$(e.target).parent().hasClass("mdc-chip")?$(e.target).parent():$(e.target);$("#language_page_container").children().removeClass("mdc-chip--selected"),n.addClass("mdc-chip--selected");let a=n.find("img").prop("alt").split(".");$("#form_language_page").find("input[name='form_language[codePage]']").val(a[0]),$("#form_language_page").submit()}this.init=function(){},this.action=function(){$(document).on("click","#language_text_container .mdc-list-item",function(e){ajax.send(!0,window.url.languageText,"post",{event:"languageText",languageTextCode:$(e.target).find("img").prop("class"),token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,""),!1===$.isEmptyObject(e.response)&&void 0!==e.response.values&&(window.location.href=e.response.values.url)},null,null)})},this.page=function(){$("#language_page_container").find(".flag_"+window.session.languageTextCode).parent().addClass("mdc-chip--selected"),$("#language_page_container").find("input[name='form_language[codePage]']").val(window.session.languageTextCode),$("#language_page_container .mdc-chip").on("click","",function(n){!0===controlPanelPage.getProfileFocus()?popupEasy.create(window.text.index_1,window.textLanguagePage.label_1,function(){e(n)}):e(n)}),$("#form_language_page").on("submit","",function(e){e.preventDefault(),ajax.send(!0,$(this).prop("action"),$(this).prop("method"),$(this).serialize(),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(n){ajax.reply(n,"#"+e.currentTarget.id),!1===$.isEmptyObject(n.response)&&void 0!==n.response.values&&(wysiwyg.historyClear(),$("#form_cp_page_profile").find("input[name='form_page[language]']").val(n.response.values.codePage),$("#form_cp_page_profile").find("input[name='form_page[title]']").val(n.response.values.pageTitle),$(".wysiwyg").find(".editor").contents().find("body").html(n.response.values.pageArgument),$("#form_cp_page_profile").find("input[name='form_page[menuName]']").val(n.response.values.pageMenuName))},null,null)})}}