var controlPanelSetting=new ControlPanelSetting;function ControlPanelSetting(){function i(e,g,i,o){ajax.send(!0,window.url.cpSettingLanguageManage,"post",{event:e,code:g,date:i,active:o,token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){if(ajax.reply(e,""),!1===$.isEmptyObject(e.response)&&void 0!==e.response.values)window.location.href=e.response.values.url;else if(void 0!==e.response.messages.success){if(0===$("#form_setting_language").find("option:contains("+g+")").length)$("#form_setting_language").append('<option value="'+g+'">'+g+" | "+i+" | "+o+"</option>"),"1"===o&&$("#language_text_container").find(".mdc-menu__items.mdc-list").append('<li class="mdc-list-item" role="menuitem">\n                                    <span>\n                                        <img class="'+g+'" src="'+window.url.root+"/images/templates/"+window.setting.template+"/lang/"+g+'.png" alt="'+g+'.png"/>\n                                    '+g+"\n                                    </span>\n                                </li>");else{var n="1"===o?window.textSetting.label_3:window.textSetting.label_4;$("#form_setting_language").find("option:contains("+g+")").text(g+" | "+i+" | "+n);var a=null,t=$("#language_text_container").find(".mdc-menu__items.mdc-list .mdc-list-item");$.each(t,function(e,n){if(!0===$(n).find("img").hasClass(g))return a=$(n),!1}),"1"===o?null===a&&$("#language_text_container").find(".mdc-menu__items.mdc-list").append('<li class="mdc-list-item" role="menuitem">\n                                        <span>\n                                            <img class="'+g+'" src="'+window.url.root+"/images/templates/"+window.setting.template+"/lang/"+g+'.png" alt="'+g+'.png"/>\n                                            '+g+"\n                                        </span>\n                                    </li>"):"0"===o&&null!==a&&a.remove()}$("#setting_language_manage_close").click()}},null,null)}this.init=function(){!function(){var n=$("#form_setting_language").prop("selectedIndex"),a=$("#form_setting_language").val(),g="";a===window.setting.language?$("#setting_language_manage_delete").hide():$("#setting_language_manage_delete").show();$("#form_setting_language").on("change","",function(){n=$(this).prop("selectedIndex"),(a=$(this).val())===window.setting.language?$("#setting_language_manage_delete").hide():$("#setting_language_manage_delete").show(),$("#setting_language_manage_close").click()}),$("#setting_language_manage_modify").on("click","",function(){g="modifyLanguage",$("#setting_language_manage_container").show();var e=$("#form_setting_language").find(":selected").text().split("|"),n=e[2].trim()===window.textSetting.label_3?1:0;$("#form_setting_languageManageCode").prop("disabled",!0),$("#form_setting_languageManageCode").val(a),$("#form_setting_languageManageDate").val(e[1].trim()),$("#form_setting_languageManageActive").val(n),a===window.setting.language?$("#form_setting_languageManageActive").parents(".form_row").hide():$("#form_setting_languageManageActive").parents(".form_row").show(),materialDesign.refresh()}),$("#setting_language_manage_create").on("click","",function(){g="createLanguage",$("#setting_language_manage_container").show(),$("#form_setting_languageManageCode").prop("disabled",!1),$("#form_setting_languageManageCode").val(""),$("#form_setting_languageManageDate").val(""),$("#form_setting_languageManageActive").val("")}),$("#setting_language_manage_confirm").on("click","",function(){var e=$("#form_setting_languageManageCode").val(),n=$("#form_setting_languageManageDate").val(),a=$("#form_setting_languageManageActive").val(),t=$("#language_text_container").find(".mdc-list-item[aria-disabled='true'] img").prop("class");e===t?popupEasy.create(window.text.index_5,window.textSetting.label_1,function(){i(g,e,n,a)}):i(g,e,n,a)}),$("#setting_language_manage_delete").on("click","",function(){popupEasy.create(window.text.index_5,window.textSetting.label_2,function(){ajax.send(!0,window.url.cpSettingLanguageManage,"post",{event:"deleteLanguage",code:a,token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,""),void 0!==e.response.messages.success&&($("#setting_language_manage_close").click(),$("#form_setting_language").find("option").eq(n).remove(),$("#language_text_container").find(".mdc-list-item").eq(n-1).remove())},null,null)})}),$("#setting_language_manage_close").on("click","",function(){g="",$("#form_setting_languageManageCode").val(""),$("#form_setting_languageManageDate").val(""),$("#form_setting_languageManageActive").val(""),$("#setting_language_manage_container").hide()})}(),utility.wordTag("#setting_roleUserId","#form_setting_roleUserId"),$("#form_setting_payPalCurrencyCode").on("keyup","",function(){$(this).val($(this).val().toUpperCase())}),$("#form_cp_setting_save").on("submit","",function(n){n.preventDefault();var a=$("#form_setting_languageManageCode").prop("name");$("#form_setting_languageManageCode").removeAttr("name");var t=$("#form_setting_languageManageDate").prop("name");$("#form_setting_languageManageDate").removeAttr("name");var g=$("#form_setting_languageManageActive").prop("name");$("#form_setting_languageManageActive").removeAttr("name"),$("#setting_language_manage_delete").removeClass("button_icon_inline"),$("#setting_language_manage_close").click(),ajax.send(!0,$(this).prop("action"),$(this).prop("method"),$(this).serialize(),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,function(e){ajax.reply(e,"#"+n.currentTarget.id),$("#form_setting_languageManageCode").prop("name",a),$("#form_setting_languageManageDate").prop("name",t),$("#form_setting_languageManageActive").prop("name",g)},null,null)})}}