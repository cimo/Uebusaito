"use strict";class ControlPanelSettingLinePush{constructor(){}action=()=>{let e=new TableAndPagination;e.create(window.url.cpSettingLinePushRender,"#cp_setting_line_push_user_result",!1),e.search(),e.pagination(),$("#cp_setting_line_push_user_result").find(".tableAndPagination_container").hide(),$("#form_cp_setting_line_push_render").on("submit","",e=>{if(e.preventDefault(),!0===$(".tableAndPagination_container").find(".mdc-text-field__input").is(":focus"))return!1;ajax.send(!0,$(e.target).prop("action"),$(e.target).prop("method"),$(e.target).serialize(),"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,n=>{ajax.reply(n,"#"+e.target.id),void 0!==n.response.values.wordTagListHtml&&$("#form_cp_setting_line_push_render").find(".wordTag_container").html(n.response.values.wordTagListHtml)},null,null)}),$("#form_cp_setting_line_push_render").on("click",".button_reset",n=>{ajax.send(!0,window.url.cpSettingLinePushReset,"post",{event:"reset",token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,n=>{ajax.reply(n,""),void 0!==n.response.messages.success&&(this._resetField(),e.populate(n),materialDesign.refresh())},null,null)}),$("#form_cp_setting_line_push_render").find(".wordTag_container").on("click",".edit",n=>{if(!0===$(n.currentTarget).hasClass("delete"))return;let t=$.trim($(n.currentTarget).find(".mdc-chip__text").attr("data-id"));ajax.send(!0,window.url.cpSettingLinePushRender,"post",{event:"profile",id:t,token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,n=>{ajax.reply(n,""),void 0!==n.response.values.wordTagListHtml&&($("#form_settingLinePush_name").val(n.response.values.entity[0]),$("#form_settingLinePush_userIdPrimary").val(n.response.values.entity[1]),$("#form_settingLinePush_accessToken").val(n.response.values.entity[2]),$("#form_settingLinePush_active").val(!0===n.response.values.entity[3]?1:0),$("#cp_setting_line_push_user_result").find(".tableAndPagination_container").show(),$("#form_cp_setting_line_push_render").find(".wordTag_container").html(n.response.values.wordTagListHtml),e.populate(n),materialDesign.refresh())},null,null)}),$("#form_cp_setting_line_push_render").find(".wordTag_container").on("click",".delete",n=>{if(!0===$(n.currentTarget).hasClass("edit"))return;let t=$.trim($(n.currentTarget).parent().find(".mdc-chip__text").attr("data-id"));popupEasy.show(window.text.index_5,window.textSettingLinePush.label_1,()=>{ajax.send(!0,window.url.cpSettingLinePushDelete,"post",{event:"delete",id:t,token:window.session.token},"json",!1,!0,"application/x-www-form-urlencoded; charset=UTF-8",null,n=>{ajax.reply(n,""),void 0!==n.response.values.wordTagListHtml&&($("#form_cp_setting_line_push_render").find(".wordTag_container").html(n.response.values.wordTagListHtml),this._resetField(),e.populate(n),materialDesign.refresh())},null,null)})})};_resetField=()=>{$("#form_settingLinePush_name").val(""),$("#form_settingLinePush_name").parent().find("label").removeClass("mdc-floating-label--float-above"),$("#form_settingLinePush_userIdPrimary").val(""),$("#form_settingLinePush_userIdPrimary").parent().find("label").removeClass("mdc-floating-label--float-above"),$("#form_settingLinePush_accessToken").val(""),$("#form_settingLinePush_accessToken").parent().find("label").removeClass("mdc-floating-label--float-above"),$("#form_settingLinePush_active").val(""),$("#form_settingLinePush_active").parent().find("label").removeClass("mdc-floating-label--float-above"),$("#cp_setting_line_push_user_result").find(".tableAndPagination_container").hide()}}