{% extends "@UebusaitoBundleViews/layout/layout_site.html.twig" %}

{% block headMeta %}
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
{% endblock %}

{% block headLink %}
    {{-include("@UebusaitoBundleViews/layout/layout_google.html.twig")-}}
    
    <!-- Favicon -->
    <link href="{{asset("bundles/uebusaito/images/templates/" ~ settingRow['template_name'] ~ "/favicon.ico")}}" rel="icon" type="image/x-icon">
    <!-- Css -->
    <link href="{{asset("bundles/uebusaito/css/library/jquery-ui_1.12.1.min.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/library/jquery-ui_1.12.1_structure.min.css")}}" rel="stylesheet"/>
    
    <link href="{{asset("bundles/uebusaito/css/library/Roboto+Mono.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/library/Roboto_300_400_500.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/library/material-icons.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/library/material-components-web.min.css")}}" rel="stylesheet"/>
    
    <link href="{{asset("bundles/uebusaito/css/system/" ~ settingRow['template_name'] ~ ".css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/loader.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/flashBag.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/table_and_pagination.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/captcha.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/upload.css")}}" rel="stylesheet"/>
    <link href="{{asset("bundles/uebusaito/css/wysiwyg.css")}}" rel="stylesheet"/>
{% endblock%}

{% block headerContainer %}
   {#<div class="sortable_column">
        {% if (settingRow['website_active'] == false and is_granted("IS_AUTHENTICATED_FULLY") == false) or urlExtra == "maintenance_authentication" %}
            <div class="logo_big display_desktop">
                <img class="logo_svg" src="{{asset("bundles/uebusaito/images/templates/" ~ settingRow['template_name'] ~ "/logo.svg")}}"/>
                <p class="logo_text">{{websiteName}}</p>
            </div>
            <div class="logo_small display_mobile">
                <img class="logo_svg" src="{{asset("bundles/uebusaito/images/templates/" ~ settingRow['template_name'] ~ "/logo.svg")}}"/>
                <p class="logo_text">{{websiteName}}</p>
            </div>
        {% else %}
            <div class="logo_big logo_big_margin_bottom display_desktop">
                <img class="logo_svg" src="{{asset("bundles/uebusaito/images/templates/" ~ settingRow['template_name'] ~ "/logo.svg")}}"/>
                <p class="logo_text">{{websiteName}}</p>
            </div>
        {% endif %}

        {% if (settingRow['website_active'] == true or is_granted("IS_AUTHENTICATED_FULLY") == true) and urlExtra != "maintenance_authentication" and app.request.get("error") is null %}
            {% for value in response.modules.header %}
                {% if value.active == true and file_exists(response.path.srcBundle ~ "/Resources/views/module/" ~ value.file_name) == true %}
                    {{-include("@UebusaitoBundleViews/module/" ~ value.file_name)-}}
                {% endif %}
            {% endfor %}
        {% endif %}
    </div>#}
   
    <header class="mdc-toolbar mdc-toolbar--fixed mdc-toolbar--waterfall mdc-toolbar--flexible mdc-toolbar--flexible-default-behavior mdc-toolbar--flexible-space-maximized">
        <div class="mdc-toolbar__row" style="height: 200px;">
            <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
                <a id="menu_root_button" class="material-icons mdc-toolbar__menu-icon" href="javascript:void(0)">menu</a>
                <span class="mdc-toolbar__title">Title</span>
            </section>
            <section class="mdc-toolbar__section mdc-toolbar__section--align-end" role="toolbar">
                <!-- Widget - Search -->
                <div class="widget_search">
                    <i class="material-icons button_open">search</i>
                    <i class="material-icons button_close">close</i>
                    <input name="searchText" type="text" placeholder="Search" autocomplete="off">
                </div>
                <a href="javascript:void(0)" class="material-icons mdc-toolbar__icon" aria-label="Language">language</a>
                <a href="javascript:void(0)" class="material-icons mdc-toolbar__icon" aria-label="Account">account_circle</a>
            </section>
        </div>
    </header>
{% endblock %}

{% block columnLeftContainer %}
    {% if (settingRow['website_active'] == true or is_granted("IS_AUTHENTICATED_FULLY") == true) and urlExtra != "maintenance_authentication" and app.request.get("error") is null %}
        <div class="sortable_column">
            {% for value in response.modules.left %}
                {% if value.active == true and file_exists(response.path.srcBundle ~ "/Resources/views/module/" ~ value.file_name) == true %}
                    {{-include("@UebusaitoBundleViews/module/" ~ value.file_name)-}}
                {% endif %}
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}

{% block columnCenterContainer %}
    {#{% if app.request.get("error") is not null and app.request.get("error") is not empty %}
        {{-include("@UebusaitoBundleViews/render/static/error.html.twig")-}}
    {% else %}
        {{-include("@UebusaitoBundleViews/include/flashBag.html.twig")-}}#}

        {% if (settingRow['website_active'] == true or is_granted("IS_AUTHENTICATED_FULLY") == true) and urlExtra != "maintenance_authentication" %}
            <div class="sortable_column">
                {% for value in response.modules.center %}
                    {% if value.active == true and file_exists(response.path.srcBundle ~ "/Resources/views/module/" ~ value.file_name) == true %}
                        {{-include("@UebusaitoBundleViews/module/" ~ value.file_name)-}}
                    {% endif %}
                {% endfor %}
            </div>
        {% else %}
            <div class="maintenance">
                {% if settingRow['website_active'] == false %}
                    {% if urlExtra == "maintenance_authentication" %}
                        {{-render(controller("UebusaitoBundle:Authentication:module", {'_locale': settingRow['language'], 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra}))-}}
                    {% else %}
                        <div class="content">
                            <img src="{{asset("bundles/uebusaito/images/templates/" ~ settingRow['template_name'] ~ "/maintenance.svg")}}">
                            <div>
                                <a href="{{path("root_render", {'_locale': settingRow['language'], 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': "maintenance_authentication"})}}">
                                    {#<i class="fa fa-wrench"></i>#}
                                </a>
                            </div>
                            <p>{% trans %}index_1{% endtrans %}</p>
                            <p>{% trans %}index_2{% endtrans %}</p>
                        </div>
                    {% endif %}
                {% endif %}
            </div>
        {% endif %}
    {#{% endif %}#}
{% endblock %}

{% block columnRightContainer %}
    {% if (settingRow['website_active'] == true or is_granted("IS_AUTHENTICATED_FULLY") == true) and urlExtra != "maintenance_authentication" and app.request.get("error") is null %}
        <div class="sortable_column">
            {% for value in response.modules.right %}
                {% if value.active == true and file_exists(response.path.srcBundle ~ "/Resources/views/module/" ~ value.file_name) == true %}
                    {{-include("@UebusaitoBundleViews/module/" ~ value.file_name)-}}
                {% endif %}
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}

{% block footerContainer %}
    {% if (settingRow['website_active'] == true or is_granted("IS_AUTHENTICATED_FULLY") == true) and urlExtra != "maintenance_authentication" %}
        {% for value in response.modules.footer %}
            {% if value.active == true and file_exists(response.path.srcBundle ~ "/Resources/views/module/" ~ value.file_name) == true %}
                {{-include("@UebusaitoBundleViews/module/" ~ value.file_name)-}}
            {% endif %}
        {% endfor %}
    {% endif %}

    <footer class="mdc-theme--text-primary-on-primary footer">
        <div class="icon">
            <div>
                <i class="material-icons">desktop_windows</i>
            </div>
            <div>
                <i class="material-icons">laptop_windows</i>
            </div>
            <div>
                <i class="material-icons">smartphone</i>
            </div>
        </div>
        <div class="text">
            <p>{{"index_7"|trans}}</p>
            <p>{{"index_8"|trans}}</p>
        </div>
    </footer>
{% endblock %}    

{% block bodyIncludeDown %}
    {#{{-include("@UebusaitoBundleViews/include/loader.html.twig")-}}
    {{-include("@UebusaitoBundleViews/include/popup_easy.html.twig")-}}#}
{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        var session = {
            'token': "{{csrf_token("intention")}}",
            'userActivity': "{{php_session.userActivity}}"
        };

        var path = {
            'documentRoot': "{{response.path.documentRoot}}",
            'root': "{{response.path.root}}",
            'srcBundle': "{{response.path.srcBundle}}",
            'webBundle': "{{response.path.webBundle}}"
        };

        var url = {
            'root': "{{response.url.root}}",
            'rootRender': "{{path("root_render", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'languageText': "{{path("language_text", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'languagePage': "{{path("language_page", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'searchModule': "{{path("search_module", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'searchRender': "{{path("search_render", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'registration': "{{path("registration", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'recoverPassword': "{{path("recover_password", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'authentication': "{{path("authentication", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'authenticationEnterCheck': "{{path("authentication_enter_check", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'authenticationExitCheck': "{{path("authentication_exit_check", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'controlPanel': "{{path("control_panel", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpProfile': "{{path("cp_profile", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpProfilePassword': "{{path("cp_profile_password", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpProfileCredit': "{{path("cp_profile_credit", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpProfileCreditPayPal': "{{path("cp_profile_credit_payPal", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpProfileUpload': "{{path("cp_profile_upload", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPaymentUserSelection': "{{path("cp_payment_user_selection", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPaymentSelection': "{{path("cp_payment_selection", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPaymentProfileResult': "{{path("cp_payment_profile_result", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPaymentDeletion': "{{path("cp_payment_deletion", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPageCreation': "{{path("cp_page_creation", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPageSelection': "{{path("cp_page_selection", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPageProfileResult': "{{path("cp_page_profile_result", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPageProfileSort': "{{path("cp_page_profile_sort", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPageProfileSave': "{{path("cp_page_profile_save", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpPageDeletion': "{{path("cp_page_deletion", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpUserCreation': "{{path("cp_user_creation", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpUserSelection': "{{path("cp_user_selection", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpUserProfileResult': "{{path("cp_user_profile_result", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpUserProfileSave': "{{path("cp_user_profile_save", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpUserDeletion': "{{path("cp_user_deletion", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpModuleDrag': "{{path("cp_module_drag", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpModuleCreation': "{{path("cp_module_creation", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpModuleSelection': "{{path("cp_module_selection", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpModuleProfileResult': "{{path("cp_module_profile_result", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpModuleProfileSort': "{{path("cp_module_profile_sort", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpModuleProfileSave': "{{path("cp_module_profile_save", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpModuleDeletion': "{{path("cp_module_deletion", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpRoleUserCreation': "{{path("cp_roleUser_creation", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpRoleUserSelection': "{{path("cp_roleUser_selection", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpRoleUserProfileResult': "{{path("cp_roleUser_profile_result", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpRoleUserProfileSave': "{{path("cp_roleUser_profile_save", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpRoleUserDeletion': "{{path("cp_roleUser_deletion", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpSettingSave': "{{path("cp_setting_save", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'cpSettingLanguageManage': "{{path("cp_setting_language_manage", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'pageCommentCreation': "{{path("page_comment_creation", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'pageCommentRender': "{{path("page_comment_render", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}",
            'pageCommentResult': "{{path("page_comment_result", {'_locale': urlLocale, 'urlCurrentPageId': urlCurrentPageId, 'urlExtra': urlExtra})}}"
        };

        var text = {
            'warning': "{{"index_3"|trans}}",
            'ok': "{{"index_4"|trans}}",
            'abort': "{{"index_5"|trans}}",
            'ajaxConnectionError': "{{"index_6"|trans}}"
        };

        var setting = {
            'widthMobile': 839,
            'widthDesktop': 840,
            'templateName': "{{settingRow['template_name']}}",
            'language': "{{settingRow['language']}}",
            'websiteActive': "{{settingRow['website_active']}}"
        };
    </script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/library/jquery_3.3.1.min.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/library/jquery-ui_1.12.1.min.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/library/jquery-mobile_1.5.0.min.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/library/material-components-web.min.js")}}"></script>
    
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/Utility.js")}}"></script>
    
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/widget/WidgetSearch.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/widget/WidgetDatePicker.js")}}"></script>
    
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/Ajax.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/Loader.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/FlashBag.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/PopupEasy.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/TableAndPagination.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/Captcha.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/Upload.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/Wysiwyg.js")}}"></script>

    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/Language.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/Search.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/Authentication.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/Registration.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/RecoverPassword.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/control_panel/Profile.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/control_panel/Payment.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/control_panel/Page.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/control_panel/User.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/control_panel/Module.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/control_panel/RoleUser.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/control_panel/Setting.js")}}"></script>
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/PageComment.js")}}"></script>
    
    <script type="text/javascript" src="{{asset("bundles/uebusaito/javascript/system/Index.js")}}"></script>
{% endblock %}